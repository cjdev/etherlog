<html>
	<head>
		<link rel="stylesheet" href="/styles.css"/>
		<link rel="stylesheet" href="/jqueryui-theme/minified/jquery-ui.min.css"/>
		<script type="text/javascript" data-main="backlog" src="/scripts/d3.v3.min.js"></script>
	</head>
	<body>
	<div class="aa"></div>
<script type="text/javascript">

var chart = d3.select("body").append("div")
	 .style("position", "absolute")
     .attr("width", 500)
     .attr("height", 500);

function redraw(data){

	     
	var d = chart.selectAll("div")
	  .data(data, function(d){console.log("Identifying " + d); return d;});
	
	console.log(data);
	
	d.enter()
	  .append("div")
	  .style("position", "absolute")
	  .style("width", function(d){return d*10})
	  .style("height", function(d){return d * 10})
	  .style("left", function(d, i){return i * 50;})
	  .style("background", "red")
	  .style("display", "inline block")
	  .style("border", "1px solid green");
	
	d.exit().remove();
}
var n = 6;

function stuff(){
	n--;
	var data = [];
	for(x=0;x<n;x++){
		data.push(x);
	}
	console.log("Down to " + data.length);
	redraw(data);
	setTimeout(stuff, 1000);
}

stuff();

</script>
	
	</body>
</html>
	